when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"python3","install_id":"python3","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"],"version":"1"}],"name":"python3"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 25 Aug 2025 16:15:34 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '1276'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: P3rVoib9IAMES4Q=
  body: '{"items":[{"name":"python3","page":null,"candidate_pages":null,"messages":[{"level":"error","type":"constraints_too_tight","message":"Resolution constraints are too tight.","context":{}},{"level":"trace","type":"resolution_logic","message":"TRACE (GROUP): Group ''python3'' could not be resolved with strategy: Stage 1: Only allow missing builds for packages without current locked derivations.","context":{"install_id":"GROUP","message":"Group ''python3'' could not be resolved with strategy: Stage 1: Only allow missing builds for packages without current locked derivations."}},{"level":"trace","type":"resolution_logic","message":"TRACE (GROUP): Group ''python3'' could not be resolved with strategy: Stage 2: Unlock existing derivations but require known builds.","context":{"install_id":"GROUP","message":"Group ''python3'' could not be resolved with strategy: Stage 2: Unlock existing derivations but require known builds."}},{"level":"trace","type":"resolution_logic","message":"TRACE (GROUP): Group ''python3'' could not be resolved with strategy: Stage 3: Unlock existing derivations and allow missing builds.","context":{"install_id":"GROUP","message":"Group ''python3'' could not be resolved with strategy: Stage 3: Unlock existing derivations and allow missing builds."}}]}]}'
---
when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"python3","install_id":"python3","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"]}],"name":"python3"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 25 Aug 2025 16:15:35 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '3628'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: P3rWIgmaoAMEaJA=
  body: '{"items":[{"name":"python3","page":{"page":846535,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"python3","pkg_path":"python3","derivation":"/nix/store/0sgpwdw94q31k5y4gfblnwr7vf7cdkvx-python3-3.13.5.drv","name":"python3-3.13.5","pname":"python3","version":"3.13.5","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/v72ywdz0dd2d6sb3knymx9ww8r6pcqba-python3-3.13.5"}],"outputs_to_install":["out"],"description":"High-level dynamically-typed programming language","license":"Python-2.0","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T15:39:05.449732Z","cache_uri":null,"install_id":"python3"},{"catalog":"nixpkgs","attr_path":"python3","pkg_path":"python3","derivation":"/nix/store/1cdadwmiqljyxpc2q5fsicj24yf6vir4-python3-3.13.5.drv","name":"python3-3.13.5","pname":"python3","version":"3.13.5","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/cr7c6cf8y7sbqwq9bj7lrm977x7c4mv9-python3-3.13.5"},{"name":"debug","store_path":"/nix/store/lnjp4kv8avwmkrfxxxa38pyqxqx6ajpv-python3-3.13.5-debug"}],"outputs_to_install":["out"],"description":"High-level dynamically-typed programming language","license":"Python-2.0","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T16:05:54.123545Z","cache_uri":null,"install_id":"python3"},{"catalog":"nixpkgs","attr_path":"python3","pkg_path":"python3","derivation":"/nix/store/y4m8sfxbkhwzd29qp601973gxfs4bkv4-python3-3.13.5.drv","name":"python3-3.13.5","pname":"python3","version":"3.13.5","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/9zzyv1p496m8b7j8v3y2dqq1xii9anx5-python3-3.13.5"}],"outputs_to_install":["out"],"description":"High-level dynamically-typed programming language","license":"Python-2.0","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T16:29:37.483882Z","cache_uri":null,"install_id":"python3"},{"catalog":"nixpkgs","attr_path":"python3","pkg_path":"python3","derivation":"/nix/store/5cjmvj85qx59nw08isq5q63kvc3ccwi1-python3-3.13.5.drv","name":"python3-3.13.5","pname":"python3","version":"3.13.5","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/9yh9ak97gn659bk4d3n411fx6c0ng7s2-python3-3.13.5"},{"name":"debug","store_path":"/nix/store/h5y23q0k2xzr0aa17y7b82y826ch7yq9-python3-3.13.5-debug"}],"outputs_to_install":["out"],"description":"High-level dynamically-typed programming language","license":"Python-2.0","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T16:57:58.775135Z","cache_uri":null,"install_id":"python3"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
---
when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"poetry","install_id":"poetry","systems":["aarch64-darwin","aarch64-linux","x86_64-darwin","x86_64-linux"]}],"name":"poetry"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 25 Aug 2025 16:15:35 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '3877'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: P3rWKjm3oAMESLA=
  body: '{"items":[{"name":"poetry","page":{"page":846535,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"poetry","pkg_path":"poetry","derivation":"/nix/store/24ka70hj4rqlyb5h2dfafdfd81rp568d-python3.13-poetry-2.1.4.drv","name":"poetry-2.1.4","pname":"poetry","version":"2.1.4","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/qlhiqq1gad23zwk7js3dqv7nj2a5k0wp-python3.13-poetry-2.1.4"},{"name":"dist","store_path":"/nix/store/llf8p53z233dk1qgpl63g6jv4zp0wf8i-python3.13-poetry-2.1.4-dist"}],"outputs_to_install":["out"],"description":"Python dependency management and packaging made easy","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T15:39:04.391176Z","cache_uri":null,"install_id":"poetry"},{"catalog":"nixpkgs","attr_path":"poetry","pkg_path":"poetry","derivation":"/nix/store/2bqm88akbvf0wqvaiagdxnl7cwgh1j5s-python3.13-poetry-2.1.4.drv","name":"poetry-2.1.4","pname":"poetry","version":"2.1.4","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/1d25zvlhhl74g5bjm07pwbj8azhf1piz-python3.13-poetry-2.1.4"},{"name":"dist","store_path":"/nix/store/y3dy978ir3xkx56bjr39vzsrnnxpcb3h-python3.13-poetry-2.1.4-dist"}],"outputs_to_install":["out"],"description":"Python dependency management and packaging made easy","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T16:05:52.188398Z","cache_uri":null,"install_id":"poetry"},{"catalog":"nixpkgs","attr_path":"poetry","pkg_path":"poetry","derivation":"/nix/store/v0cvzv3g53d0dzhiyfb9hqrd18zvyjyh-python3.13-poetry-2.1.4.drv","name":"poetry-2.1.4","pname":"poetry","version":"2.1.4","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/h88x6c0fi5myn68pig654lyzxlkrdg9l-python3.13-poetry-2.1.4"},{"name":"dist","store_path":"/nix/store/a370bsygk4qyvrxnrklw9qglv2p2c0ql-python3.13-poetry-2.1.4-dist"}],"outputs_to_install":["out"],"description":"Python dependency management and packaging made easy","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T16:29:36.498188Z","cache_uri":null,"install_id":"poetry"},{"catalog":"nixpkgs","attr_path":"poetry","pkg_path":"poetry","derivation":"/nix/store/3jw42yx58b5gbdfyc2p7r6861vkrmr37-python3.13-poetry-2.1.4.drv","name":"poetry-2.1.4","pname":"poetry","version":"2.1.4","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/8lpflap37fphfv164hgbygj98ysr10bl-python3.13-poetry-2.1.4"},{"name":"dist","store_path":"/nix/store/90hpnymxjqx0mbkdxrhwh8j4r58inhak-python3.13-poetry-2.1.4-dist"}],"outputs_to_install":["out"],"description":"Python dependency management and packaging made easy","license":"MIT","locked_url":"https://github.com/flox/nixpkgs?rev=20075955deac2583bb12f07151c2df830ef346b4","rev":"20075955deac2583bb12f07151c2df830ef346b4","rev_count":846535,"rev_date":"2025-08-19T15:00:17Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["unstable"],"scrape_date":"2025-08-24T16:57:56.832429Z","cache_uri":null,"install_id":"poetry"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
