when:
  path: /api/v1/catalog/resolve
  method: POST
  body: '{"items":[{"descriptors":[{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim","install_id":"vim","systems":["x86_64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim-full","install_id":"vim-full","systems":["aarch64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim-full","install_id":"vim-full","systems":["aarch64-linux"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim-full","install_id":"vim-full","systems":["x86_64-darwin"]},{"allow_broken":null,"allow_insecure":null,"allow_pre_releases":null,"allow_unfree":null,"attr_path":"vim-full","install_id":"vim-full","systems":["x86_64-linux"]}],"name":"toplevel"}]}'
then:
  status: 200
  header:
  - name: date
    value: Mon, 20 Oct 2025 14:40:24 GMT
  - name: content-type
    value: application/json
  - name: content-length
    value: '7415'
  - name: server
    value: uvicorn
  - name: apigw-requestid
    value: SwB57h1boAMEa9Q=
  body: '{"items":[{"name":"toplevel","page":{"page":870157,"url":"","packages":[{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/9rnv5hfczl7f715klbs06326ws40r00c-vim-9.1.1623.drv","name":"vim-9.1.1623","pname":"vim","version":"9.1.1623","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/rd7rdk0y8xm41dnddrni7zjvqfbd5kij-vim-9.1.1623"},{"name":"xxd","store_path":"/nix/store/k5ryv7ygw5mvn65zvdmv623chhcx386q-vim-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T04:42:39.379464Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/77y2cdamwq8565ml11kn4wazxsxqahii-vim-9.1.1623.drv","name":"vim-9.1.1623","pname":"vim","version":"9.1.1623","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/29h930cf68gk2l6d70xvijhcmbpy6q6k-vim-9.1.1623"},{"name":"xxd","store_path":"/nix/store/rnkcklpys8a07hnha44ariby7rz1nr06-vim-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T04:59:52.467957Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/m0c1j8mmc8y9hpcai32gkkd62n1b4ij9-vim-9.1.1623.drv","name":"vim-9.1.1623","pname":"vim","version":"9.1.1623","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/d33431xgmgb9yhn6ymii0dsagfb7a8qw-vim-9.1.1623"},{"name":"xxd","store_path":"/nix/store/zd95ng7p28qlvgf1pxx38zyzl6609bq5-vim-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T05:14:31.106321Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim","pkg_path":"vim","derivation":"/nix/store/j0lzlkvxvg1dv7qh1n822y11mik8gvh9-vim-9.1.1623.drv","name":"vim-9.1.1623","pname":"vim","version":"9.1.1623","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/sx6anw17ys8r1x3y7pl5pp93r56h16lz-vim-9.1.1623"},{"name":"xxd","store_path":"/nix/store/vml0gn46w7yd4cwrkrpycjzjq74rpilm-vim-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T05:30:51.157060Z","cache_uri":null,"install_id":"vim"},{"catalog":"nixpkgs","attr_path":"vim-full","pkg_path":"vim-full","derivation":"/nix/store/mdfy5jji8libwvp9k74vrz2cx4vmvg2b-vim-full-9.1.1623.drv","name":"vim-full-9.1.1623","pname":"vim-full","version":"9.1.1623","system":"aarch64-darwin","outputs":[{"name":"out","store_path":"/nix/store/arfswwl0l7dmhcp85yydvkjncf47f3gy-vim-full-9.1.1623"},{"name":"xxd","store_path":"/nix/store/bw9vblkc29k8jhxfi1amslhmk367llhb-vim-full-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T04:42:39.386688Z","cache_uri":null,"install_id":"vim-full"},{"catalog":"nixpkgs","attr_path":"vim-full","pkg_path":"vim-full","derivation":"/nix/store/h7bljwxa3z71qqxm34lryvnlnbmaa3dp-vim-full-9.1.1623.drv","name":"vim-full-9.1.1623","pname":"vim-full","version":"9.1.1623","system":"aarch64-linux","outputs":[{"name":"out","store_path":"/nix/store/az4fb4667apwpgxrqy8i99k16xgydlbq-vim-full-9.1.1623"},{"name":"xxd","store_path":"/nix/store/2j02ra0y9ij7wim8v3mfqqh9g0yzdlxk-vim-full-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T04:59:52.473429Z","cache_uri":null,"install_id":"vim-full"},{"catalog":"nixpkgs","attr_path":"vim-full","pkg_path":"vim-full","derivation":"/nix/store/1rrc31lqllgm73i9673mai7f7ja44y2d-vim-full-9.1.1623.drv","name":"vim-full-9.1.1623","pname":"vim-full","version":"9.1.1623","system":"x86_64-darwin","outputs":[{"name":"out","store_path":"/nix/store/n0g6sy40xi1zf4yz7cpzbgsbxw4xvhh2-vim-full-9.1.1623"},{"name":"xxd","store_path":"/nix/store/pjqpnnpmxi39kvwfkfy0wxn5l4jpspi8-vim-full-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T05:14:31.112728Z","cache_uri":null,"install_id":"vim-full"},{"catalog":"nixpkgs","attr_path":"vim-full","pkg_path":"vim-full","derivation":"/nix/store/s2fnmfscg4lzdyvd4gqiz3jl4rs9smiq-vim-full-9.1.1623.drv","name":"vim-full-9.1.1623","pname":"vim-full","version":"9.1.1623","system":"x86_64-linux","outputs":[{"name":"out","store_path":"/nix/store/rcp9xw6aljf1i7r7micn4v8vy4l2lv0v-vim-full-9.1.1623"},{"name":"xxd","store_path":"/nix/store/958n0i3gb03y52nghfxi04zfqkn7696i-vim-full-9.1.1623-xxd"}],"outputs_to_install":["out","xxd"],"description":"Most popular clone of the VI editor","license":"Vim","locked_url":"https://github.com/flox/nixpkgs?rev=7df7ff7d8e00218376575f0acdcc5d66741351ee","rev":"7df7ff7d8e00218376575f0acdcc5d66741351ee","rev_count":870157,"rev_date":"2025-10-02T04:57:58Z","broken":false,"insecure":false,"unfree":false,"missing_builds":false,"stabilities":["staging","unstable"],"scrape_date":"2025-10-03T05:30:51.160965Z","cache_uri":null,"install_id":"vim-full"}],"messages":[],"complete":true},"candidate_pages":null,"messages":[]}]}'
